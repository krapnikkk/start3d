{"version":3,"file":"start3d.umd.js","sources":["../src/gl/gl.ts","../src/gl/shader.ts","../src/gl/vertexFormat.ts","../src/gl/vertexBuffer.ts","../src/gl/indexBuffer.ts","../src/gl/mesh.ts","../src/math/matrix4.ts","../src/math/vector3.ts","../node_modules/tslib/tslib.es6.js","../src/event/eventDispatcher.ts","../src/assets/imageLoader.ts","../src/assets/textLoader.ts","../src/assets/assetManager.ts","../src/gl/texture.ts","../src/gl/textureManger.ts"],"sourcesContent":["let gl: WebGLRenderingContext;\nlet canvas: HTMLCanvasElement;\nconst init = (canvasId?: string) => {\n    if (canvasId) {\n        canvas = document.getElementById(canvasId) as HTMLCanvasElement;\n        if (canvas === undefined) {\n            throw new Error(\"Cannot find a canvas element by Id:\" + canvasId);\n        }\n    } else {\n        canvas = document.createElement(\"canvas\");\n        canvas.id = \"start3d\";\n        document.body.appendChild(canvas);\n    }\n    canvas.setAttribute(\n        \"style\",\n        `position: absolute;\n        left: 50%;\n        top: 50%;\n        transform: translate(-50%,-50%);\n        width: 100vw;\n        height: 100vh;\n        display: block;`\n    );\n    canvas.width = Math.floor(canvas.clientWidth * window.devicePixelRatio);\n    canvas.height = Math.floor(canvas.clientHeight * window.devicePixelRatio);\n\n    gl = canvas.getContext(\"webgl\")!;\n    gl.viewport(0, 0, canvas.width, canvas.height);\n}\n\nexport { init, gl, canvas }","import { gl } from \"./gl\";\n\nclass UniformInfo {\n    public name: string;\n    public location: WebGLUniformLocation;\n    public type: number;\n    public size: number;\n    public isArray: boolean;\n    constructor(name: string, location: WebGLUniformLocation, type: number, size: number, isArray: boolean) {\n        this.name = name;\n        this.location = location;\n        this.type = type;\n        this.size = size;\n        this.isArray = isArray;\n    }\n}\n\nexport class Shader {\n    private _program: WebGLProgram;\n    private _attributes: { [name: string]: number } = {};\n    private _uniforms: { [name: string]: UniformInfo } = {};\n    private _semanticToAttribMap:{[name:string]:string} = {};\n\n    public mapAttributeSemantic(semantic:string,attribName:string):void{\n        this._semanticToAttribMap[semantic] = attribName;\n    }\n\n    public load(vertexSource: string, fragmentSource: string) {\n        let vertexShader = this.loadShader(vertexSource, gl.VERTEX_SHADER);\n        let fragmentShader = this.loadShader(fragmentSource, gl.FRAGMENT_SHADER);\n        this.createProgram(vertexShader, fragmentShader);\n\n        this.queryAttributes();\n        this.queryUniforms();\n    }\n\n    private loadShader(source: string, type: GLenum): WebGLShader {\n        let shader = gl.createShader(type);\n        gl.shaderSource(shader, source);\n        gl.compileShader(shader);\n        if (!gl.getShaderParameter(shader, gl.COMPILE_STATUS)) {\n            let error = gl.getShaderInfoLog(shader);\n            if (error !== \"\") {\n                throw new Error(\"Error compiling shader:\" + error);\n            }\n        }\n        return shader;\n    }\n\n    private createProgram(vertexShader: WebGLShader, fragmentShader: WebGLShader): void {\n        this._program = gl.createProgram();\n\n        gl.attachShader(this._program, vertexShader);\n        gl.attachShader(this._program, fragmentShader);\n\n        gl.linkProgram(this._program);\n        if (!gl.getProgramParameter(this._program, gl.LINK_STATUS)) {\n            let error = gl.getProgramInfoLog(this._program);\n            if (error !== \"\") {\n                throw new Error('Failed to link program: ' + error);\n            }\n        }\n    }\n\n    public queryAttributes() {\n        let attributeCount = gl.getProgramParameter(this._program, gl.ACTIVE_ATTRIBUTES);\n        for (let i = 0; i < attributeCount; i++) {\n            let info: WebGLActiveInfo = gl.getActiveAttrib(this._program, i);\n            if (!info) {\n                break;\n            }\n            this._attributes[info.name] = gl.getAttribLocation(this._program, info.name);\n        }\n    }\n\n    public queryUniforms() {\n        let uniformCount = gl.getProgramParameter(this._program, gl.ACTIVE_UNIFORMS);\n        for (let i = 0; i < uniformCount; i++) {\n            let info = gl.getActiveUniform(this._program, i);\n            if (!info) {\n                break;\n            }\n            let location = gl.getUniformLocation(this._program, info.name);\n            let isArray = info.size > 1 && info.name.substr(-3) === '[0]';\n            let uniformInfo = new UniformInfo(info.name, location, info.type, info.size, isArray)\n            this._uniforms[info.name] = uniformInfo;\n        }\n    }\n\n    public getAttributeLocation(semantic: string): number {\n        let name = this._semanticToAttribMap[semantic];\n        if(name){\n            let location = this._attributes[name];\n            return location;\n        } else {\n            console.error('Shader: can not find attribute for semantic '+semantic);\n            return -1;\n        }\n    }\n\n    public setUniform(name: string, value: Float32List | number): void {\n        let info = this._uniforms[name];\n        if (info === null) {\n            console.error(\"can not find uniform named \" + name);\n            return;\n        }\n        switch (info.type) {\n            case gl.FLOAT:\n                if (info.isArray) {\n                    gl.uniform1fv(info.location, value as Float32List);\n                } else {\n                    gl.uniform1f(info.location, value as number);\n                }\n                break;\n            case gl.FLOAT_VEC2:\n                gl.uniform2fv(info.location, value as Float32List);\n                break;\n            case gl.FLOAT_VEC3:\n                gl.uniform3fv(info.location, value as Float32List);\n                break;\n            case gl.FLOAT_VEC4:\n                gl.uniform4fv(info.location, value as Float32List);\n                break;\n            case gl.FLOAT_MAT4:\n                gl.uniformMatrix4fv(info.location,false, value as Float32List);\n                break;\n            default:\n                console.error(\"uniform type not support \", info.type);\n                break;\n        }\n    }\n\n\n    public use(): void {\n        if (this._program) {\n            gl.useProgram(this._program);\n        } else {\n            console.error(\"create progarm first!\");\n        }\n    }\n\n}","// 语义化vertex shader中常见attribute\nenum VertexSemantic {\n    POSITION = \"position\",\n    NORMAL = \"normal\",\n    TANGENT = \"tangent\",\n    COLOR = \"color\",\n    UV0 = \"uv0\",\n    UV1 = \"uv1\",\n    UV2 = \"uv2\",\n    UV3 = \"uv3\",\n}\n\nclass VertexFormat {\n    private _vertexSize: number = 0;\n    public attribs: string[] = [];\n    public attribSizeMap: {} = {};\n\n    constructor() {\n\n    }\n\n    public get attribCount():number{\n        return this.attribs.length;\n    }\n\n    addAttrib(attribSemantic: string, size: number): void {\n        this.attribs.push(attribSemantic);\n        this.attribSizeMap[attribSemantic] = size;\n    }\n\n    getVertexSize():number{\n        this.updateVertexSize();\n        return this._vertexSize;\n    }\n\n    updateVertexSize():void{\n        // if(this._vertexSize === 0){\n            this._vertexSize = 0;\n            for(let i = 0;i<this.attribs.length;i++){\n                let semantic = this.attribs[i];\n                this._vertexSize += this.attribSizeMap[semantic];\n            }\n        // }\n    }\n}\n\nexport { VertexFormat, VertexSemantic };","import { Shader } from \"./shader\";\nimport { gl } from \"./gl\";\nimport { VertexFormat, VertexSemantic } from \"./vertexFormat\";\n\n\nclass VertexAttribInfo {\n    public offset: number = 0;\n    public size: number = 0;\n    public semantic: string;\n    public data: Array<number> = null;\n\n    constructor(attribSemantic: string, attribSize: number) {\n        this.semantic = attribSemantic;\n        this.size = attribSize;\n    }\n}\n\nclass VertexBuffer {\n    private _vertexCount: number = 0;\n    private _vertexStride: number = 0; // 步进\n    private _vertexFormat: VertexFormat;\n    private _attribInfoMap: { [key: string]: VertexAttribInfo } = {};\n    private _vbo: WebGLBuffer = gl.createBuffer();\n    private _bufferData: Array<number> = null;\n\n    public BYTES_PER_ELEMENT: number = 4; // // for Float32Array\n\n    public constructor(vertexFormat: VertexFormat) {\n        this._vertexFormat = vertexFormat;\n        let attribCount = this._vertexFormat.attribCount;\n        for (let i = 0; i < attribCount; i++) {\n            let semantic = this._vertexFormat.attribs[i];\n            let size = this._vertexFormat.attribSizeMap[semantic];\n            if (size === null) {\n                console.error(\"VertexBuffer: bad semantic!\");\n            } else {\n                let info = new VertexAttribInfo(semantic, size);\n                this._attribInfoMap[semantic] = info;\n            }\n        }\n    }\n\n    get vbo(): WebGLBuffer {\n        return this._vbo;\n    }\n\n    get vertexCount(): number {\n        return this._vertexCount;\n    }\n\n    get vertexStride(): number {\n        return this._vertexStride;\n    }\n\n    public setData(semantic:string,data:number[]):void{\n        this._attribInfoMap[semantic].data = data;\n    }\n\n    private _compile(): void {\n        let position = this._attribInfoMap[VertexSemantic.POSITION];\n        if (position === null) {\n            console.error(\"VertexBuffer: no attribute position!\");\n        }\n        if (position.data === null || position.data.length === 0) {\n            console.error(\"VertexBuffer: position data is empty!\");\n            return;\n        }\n\n        // calculate the vertex count\n        this._vertexCount = position.data.length / position.size;\n        this._vertexStride = this._vertexFormat.getVertexSize() * this.BYTES_PER_ELEMENT;\n\n\n        this._bufferData = [];\n        for (let i = 0; i < this._vertexCount; i++) {\n            for (let semantic of this._vertexFormat.attribs) {\n                let info = this._attribInfoMap[semantic];\n                if (info === null || info.data === null) {\n                    console.error(\"VertexBuffer: bad semantic \" + semantic);\n                    continue;\n                }\n                for (let k = 0; k < info.size; k++) {\n                    let val = info.data[i * info.size + k];\n                    if (val === undefined) {\n                        console.error(\"VertexBuffer: missing value for \" + semantic);\n                    }\n                    this._bufferData.push(val);\n                }\n            }\n        }\n\n        let offset = 0;\n        for (let semantic of this._vertexFormat.attribs) {\n            let info = this._attribInfoMap[semantic];\n            info.offset = offset;\n            info.data = null;\n            offset += info.size * this.BYTES_PER_ELEMENT;\n        }\n    }\n\n    upload(): void {\n        this._compile();\n\n        let buffer = new Float32Array(this._bufferData);\n\n        gl.bindBuffer(gl.ARRAY_BUFFER, this._vbo);\n        gl.bufferData(gl.ARRAY_BUFFER, buffer, gl.STATIC_DRAW);\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n\n        this._bufferData = null;\n    }\n\n    bindAttrib(shader: Shader) {\n        for (let semantic of this._vertexFormat.attribs) {\n            let info = this._attribInfoMap[semantic];\n            let location = shader.getAttributeLocation(semantic);\n            if (location >= 0) {\n                gl.vertexAttribPointer(\n                    location, // index\n                    info.size, // size\n                    gl.FLOAT, // type\n                    false, // normailzed\n                    this._vertexStride, // stride\n                    info.offset // offset\n                );\n                gl.enableVertexAttribArray(location);\n            }\n        }\n    }\n\n    unbindAttrb(shader:Shader){\n        for(let semantic of this._vertexFormat.attribs){\n            let location = shader.getAttributeLocation(semantic);\n            if(location>=0){\n                gl.disableVertexAttribArray(location);\n            }\n        }\n    }\n\n    destroy(): void {\n        gl.deleteBuffer(this._vbo);\n        this._vbo = 0;\n    }\n}\n\nexport { VertexBuffer, VertexAttribInfo }","import {gl} from \"./gl\";\n\nclass IndexBuffer{\n    private _indexCount:number = 0 ;\n    private _mode:GLenum = gl.TRIANGLES;\n    private _type:GLenum = gl.UNSIGNED_SHORT; // SEE:https://developer.mozilla.org/en-US/docs/Web/API/WebGL_API/Types\n    private _ibo:WebGLBuffer = gl.createBuffer();\n    private _bufferData:Array<number> = null;\n\n    get ibo():WebGLBuffer{\n        return this._ibo;\n    }\n\n    get indexCount():number{\n        return this._indexCount;\n    }\n\n    get mode():GLenum{\n        return this._mode;\n    }\n\n    get type():GLenum{\n        return this._type;\n    }\n\n    setData(data:Array<number>):void{\n        this._bufferData = data;\n    }\n\n    upload():void{\n        if(this._bufferData==null){\n            console.error(\"buffer data is null!\");\n            return;\n        }\n        // 节省空间&防止越界\n        let useByte = this._bufferData.length<=256;\n        // 二进制数组 see：https://javascript.ruanyifeng.com/stdlib/arraybuffer.html\n        let buffer = useByte ? new Uint8Array(this._bufferData):new Uint16Array(this._bufferData);\n        this._type = useByte ? gl.UNSIGNED_BYTE : gl.UNSIGNED_SHORT;\n\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,this._ibo);\n        gl.bufferData(gl.ELEMENT_ARRAY_BUFFER,buffer,gl.STATIC_DRAW);\n        gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER,null);\n\n        this._indexCount = buffer.length;\n        this._bufferData = null;\n    }\n\n    destroy():void{\n        gl.deleteBuffer(this._ibo);\n        this._ibo = null;\n    }\n}\n\nexport {IndexBuffer};","import { gl } from \"./gl\";\nimport { IndexBuffer } from \"./indexBuffer\";\nimport { Shader } from \"./shader\";\nimport { VertexBuffer } from \"./vertexBuffer\";\nimport { VertexFormat } from \"./vertexFormat\";\n\nclass Mesh {\n    private _vertexBuffer: VertexBuffer;\n    private _indexBuffer: IndexBuffer;\n    constructor(vertexFormat: VertexFormat) {\n        this._vertexBuffer = new VertexBuffer(vertexFormat);\n    }\n\n    setVertexData(semantic: string, data: number[]) {\n        this._vertexBuffer.setData(semantic, data);\n    }\n\n    setTriangles(data: number[]) {\n        if (this._indexBuffer == null) {\n            this._indexBuffer = new IndexBuffer();\n        }\n        this._indexBuffer.setData(data);\n    }\n\n    upload() {\n        this._vertexBuffer.upload();\n        if (this._indexBuffer) {\n            this._indexBuffer.upload();\n        }\n    }\n\n    render(shader: Shader) {\n        gl.bindBuffer(gl.ARRAY_BUFFER, this._vertexBuffer.vbo);\n\n        this._vertexBuffer.bindAttrib(shader);\n\n        if (this._indexBuffer) {\n            let { ibo, type, mode, indexCount } = this._indexBuffer;\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, ibo);\n            gl.drawElements(mode, indexCount, type, 0);\n            gl.bindBuffer(gl.ELEMENT_ARRAY_BUFFER, null);\n        } else {\n            gl.drawArrays(gl.TRIANGLES, 0, this._vertexBuffer.vertexCount);\n        }\n\n        this._vertexBuffer.unbindAttrb(shader);\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n    }\n\n    destroy() {\n        this._vertexBuffer.destroy();\n        if (this._indexBuffer) {\n            this._indexBuffer.destroy();\n        }\n    }\n\n}\n\nexport { Mesh };","// source code see:http://rodger.global-linguist.com/webgl/lib/cuon-matrix.js\nexport class Matrix4 {\n    public elements: Float32Array;\n    constructor() {\n        this.elements = new Float32Array([\n            1, 0, 0, 0,\n            0, 1, 0, 0,\n            0, 0, 1, 0,\n            0, 0, 0, 1\n        ]);\n    }\n\n    setIdentity(): Matrix4 {\n        let elements = this.elements;\n        elements[0] = 1; elements[4] = 0; elements[8] = 0; elements[12] = 0;\n        elements[1] = 0; elements[5] = 1; elements[9] = 0; elements[13] = 0;\n        elements[2] = 0; elements[6] = 0; elements[10] = 1; elements[14] = 0;\n        elements[3] = 0; elements[7] = 0; elements[11] = 0; elements[15] = 1;\n\n        return this;\n    }\n\n    set(m: Matrix4) {\n        let src = m.elements;\n        let dst = this.elements;\n        if (src === dst) {\n            return this;\n        }\n\n        for (let i = 0; i < 16; i++) {\n            dst[i] = src[i];\n        }\n\n        return this;\n    }\n\n    concat(m:Matrix4):Matrix4 {\n        // Calculate e = a * b\n        let e = this.elements;\n        let a = this.elements;\n        let b = m.elements;\n        \n        // If e equals b, copy b to temporary matrix.\n        if (e === b) {\n            let b = new Float32Array(16);\n          for (let i = 0; i < 16; ++i) {\n            b[i] = e[i];\n          }\n        }\n        \n        for (let i = 0; i < 4; i++) {\n            let ai0=a[i];  let ai1=a[i+4];  let ai2=a[i+8];  let ai3=a[i+12];\n          e[i]    = ai0 * b[0]  + ai1 * b[1]  + ai2 * b[2]  + ai3 * b[3];\n          e[i+4]  = ai0 * b[4]  + ai1 * b[5]  + ai2 * b[6]  + ai3 * b[7];\n          e[i+8]  = ai0 * b[8]  + ai1 * b[9]  + ai2 * b[10] + ai3 * b[11];\n          e[i+12] = ai0 * b[12] + ai1 * b[13] + ai2 * b[14] + ai3 * b[15];\n        }\n        \n        return this;\n      };\n\n    multiply(m: Matrix4): Matrix4 {\n        // var i, e, a, b, ai0, ai1, ai2, ai3;\n\n        // Calculate e = a * b\n        let e = this.elements;\n        let a = this.elements;\n        let b = m.elements;\n\n        // If e equals b, copy b to temporary matrix.\n        if (e === b) {\n            b = new Float32Array(16);\n            for (let i = 0; i < 16; ++i) {\n                b[i] = e[i];\n            }\n        }\n\n        for (let i = 0; i < 4; i++) {\n            let ai0 = a[i]; let ai1 = a[i + 4]; let ai2 = a[i + 8]; let ai3 = a[i + 12];\n            e[i] = ai0 * b[0] + ai1 * b[1] + ai2 * b[2] + ai3 * b[3];\n            e[i + 4] = ai0 * b[4] + ai1 * b[5] + ai2 * b[6] + ai3 * b[7];\n            e[i + 8] = ai0 * b[8] + ai1 * b[9] + ai2 * b[10] + ai3 * b[11];\n            e[i + 12] = ai0 * b[12] + ai1 * b[13] + ai2 * b[14] + ai3 * b[15];\n        }\n\n        return this;\n    }\n\n    setTranslate(x: number, y: number, z: number): Matrix4 {\n        let elements = this.elements;\n        elements[0] = 1; elements[4] = 0; elements[8] = 0; elements[12] = x;\n        elements[1] = 0; elements[5] = 1; elements[9] = 0; elements[13] = y;\n        elements[2] = 0; elements[6] = 0; elements[10] = 1; elements[14] = z;\n        elements[3] = 0; elements[7] = 0; elements[11] = 0; elements[15] = 1;\n        return this;\n    }\n\n    translate(x: number, y: number, z: number): Matrix4 {\n        let elements = this.elements;\n        elements[12] += elements[0] * x + elements[4] * y + elements[8] * z;\n        elements[13] += elements[1] * x + elements[5] * y + elements[9] * z;\n        elements[14] += elements[2] * x + elements[6] * y + elements[10] * z;\n        elements[15] += elements[3] * x + elements[7] * y + elements[11] * z;\n        return this;\n    }\n\n    setScale(sx: number, sy: number, sz: number): Matrix4 {\n        let elements = this.elements;\n        elements[0] = sx; elements[4] = 0; elements[8] = 0; elements[12] = 0;\n        elements[1] = 0; elements[5] = sy; elements[9] = 0; elements[13] = 0;\n        elements[2] = 0; elements[6] = 0; elements[10] = sz; elements[14] = 0;\n        elements[3] = 0; elements[7] = 0; elements[11] = 0; elements[15] = 1;\n        return this;\n    }\n\n    scale(sx: number, sy: number, sz: number): Matrix4 {\n        let elements = this.elements;\n        elements[0] *= sx; elements[4] *= sy; elements[8] *= sz;\n        elements[1] *= sx; elements[5] *= sy; elements[9] *= sz;\n        elements[2] *= sx; elements[6] *= sy; elements[10] *= sz;\n        elements[3] *= sx; elements[7] *= sy; elements[11] *= sz;\n        return this;\n\n    }\n\n    setRotate(angle: number, x: number, y: number, z: number): Matrix4 {\n        // let e, s, c, len, rlen, nc, xy, yz, zx, xs, ys, zs;\n\n        angle = Math.PI * angle / 180;\n        let e = this.elements;\n\n        let s = Math.sin(angle);\n        let c = Math.cos(angle);\n\n        if (0 !== x && 0 === y && 0 === z) {\n            // Rotation around X axis\n            if (x < 0) {\n                s = -s;\n            }\n            e[0] = 1; e[4] = 0; e[8] = 0; e[12] = 0;\n            e[1] = 0; e[5] = c; e[9] = -s; e[13] = 0;\n            e[2] = 0; e[6] = s; e[10] = c; e[14] = 0;\n            e[3] = 0; e[7] = 0; e[11] = 0; e[15] = 1;\n        } else if (0 === x && 0 !== y && 0 === z) {\n            // Rotation around Y axis\n            if (y < 0) {\n                s = -s;\n            }\n            e[0] = c; e[4] = 0; e[8] = s; e[12] = 0;\n            e[1] = 0; e[5] = 1; e[9] = 0; e[13] = 0;\n            e[2] = -s; e[6] = 0; e[10] = c; e[14] = 0;\n            e[3] = 0; e[7] = 0; e[11] = 0; e[15] = 1;\n        } else if (0 === x && 0 === y && 0 !== z) {\n            // Rotation around Z axis\n            if (z < 0) {\n                s = -s;\n            }\n            e[0] = c; e[4] = -s; e[8] = 0; e[12] = 0;\n            e[1] = s; e[5] = c; e[9] = 0; e[13] = 0;\n            e[2] = 0; e[6] = 0; e[10] = 1; e[14] = 0;\n            e[3] = 0; e[7] = 0; e[11] = 0; e[15] = 1;\n        } else {\n            // Rotation around another axis\n            let len = Math.sqrt(x * x + y * y + z * z);\n            if (len !== 1) {\n                let rlen = 1 / len;\n                x *= rlen;\n                y *= rlen;\n                z *= rlen;\n            }\n            let nc = 1 - c;\n            let xy = x * y;\n            let yz = y * z;\n            let zx = z * x;\n            let xs = x * s;\n            let ys = y * s;\n            let zs = z * s;\n\n            e[0] = x * x * nc + c;\n            e[1] = xy * nc + zs;\n            e[2] = zx * nc - ys;\n            e[3] = 0;\n\n            e[4] = xy * nc - zs;\n            e[5] = y * y * nc + c;\n            e[6] = yz * nc + xs;\n            e[7] = 0;\n\n            e[8] = zx * nc + ys;\n            e[9] = yz * nc - xs;\n            e[10] = z * z * nc + c;\n            e[11] = 0;\n\n            e[12] = 0;\n            e[13] = 0;\n            e[14] = 0;\n            e[15] = 1;\n        }\n\n        return this;\n    }\n\n    rotate(angle: number, x: number, y: number, z: number): Matrix4 {\n        return this.multiply(new Matrix4().setRotate(angle, x, y, z));\n    }\n\n    setLookAt(eyeX: number, eyeY: number, eyeZ: number, targetX: number, targetY: number, targetZ: number, upX: number, upY: number, upZ: number): Matrix4 {\n        // N = eye - target\n        let nx = eyeX - targetX;\n        let ny = eyeY - targetY;\n        let nz = eyeZ - targetZ;\n        let rl = 1 / Math.sqrt(nx * nx + ny * ny + nz * nz);\n        nx *= rl;\n        ny *= rl;\n        nz *= rl;\n        // U = UP cross N\n        let ux = upY * nz - upZ * ny;\n        let uy = upZ * nx - upX * nz;\n        let uz = upX * ny - upY * nx;\n        rl = 1 / Math.sqrt(ux * ux + uy * uy + uz * uz);\n        ux *= rl;\n        uy *= rl;\n        uz *= rl;\n        // V = N cross U\n        let vx = ny * uz - nz * uy;\n        let vy = nz * ux - nx * uz;\n        let vz = nx * uy - ny * ux;\n        rl = 1 / Math.sqrt(vx * vx + vy * vy + vz * vz);\n        vx *= rl;\n        vy *= rl;\n        vz *= rl;\n\n        let e = this.elements;\n        e[0] = ux;\n        e[1] = vx;\n        e[2] = nx;\n        e[3] = 0;\n\n        e[4] = uy;\n        e[5] = vy;\n        e[6] = ny;\n        e[7] = 0;\n\n        e[8] = uz;\n        e[9] = vz;\n        e[10] = nz;\n        e[11] = 0;\n\n        e[12] = 0;\n        e[13] = 0;\n        e[14] = 0;\n        e[15] = 1;\n\n        return this.translate(-eyeX, -eyeY, -eyeZ);\n    }\n\n    lookAt(eyeX: number, eyeY: number, eyeZ: number, targetX: number, targetY: number, targetZ: number, upX: number, upY: number, upZ: number){\n        return this.concat(new Matrix4().setLookAt(eyeX, eyeY, eyeZ, targetX, targetY, targetZ, upX, upY, upZ));\n    }\n\n    setOrtho(left: number, right: number, bottom: number, top: number, near: number, far: number): Matrix4 {\n        if (left === right || bottom === top || near === far) {\n            console.error(\"wrong param\");\n            return;\n        }\n\n        let rw = 1 / (right - left);\n        let rh = 1 / (top - bottom);\n        let rd = 1 / (far - near);\n\n        let e = this.elements;\n\n        e[0] = 2 * rw;\n        e[1] = 0;\n        e[2] = 0;\n        e[3] = 0;\n\n        e[4] = 0;\n        e[5] = 2 * rh;\n        e[6] = 0;\n        e[7] = 0;\n\n        e[8] = 0;\n        e[9] = 0;\n        e[10] = -2 * rd;\n        e[11] = 0;\n\n        e[12] = -(right + left) * rw;\n        e[13] = -(top + bottom) * rh;\n        e[14] = -(far + near) * rd;\n        e[15] = 1;\n\n        return this;\n    }\n\n    setFrustum(left: number, right: number, bottom: number, top: number, near: number, far: number): Matrix4 {\n        if (left === right || bottom === top || near === far) {\n            console.error(\"wrong param\");\n            return;\n        }\n        if (near <= 0) {\n            console.error(\"wrong near\");\n            return;\n        }\n        if (far <= 0) {\n            console.error(\"wrong far\");\n            return;\n        }\n\n        let rw = 1 / (right - left);\n        let rh = 1 / (top - bottom);\n        let rd = 1 / (far - near);\n\n        let e = this.elements;\n\n        e[0] = 2 * near * rw;\n        e[1] = 0;\n        e[2] = 0;\n        e[3] = 0;\n\n        e[4] = 0;\n        e[5] = 2 * near * rh;\n        e[6] = 0;\n        e[7] = 0;\n\n        e[8] = (right + left) * rw;\n        e[9] = (top + bottom) * rh;\n        e[10] = -(far + near) * rd;\n        e[11] = -1;\n\n        e[12] = 0\n        e[13] = 0\n        e[14] = -2 * near * far * rd;\n        e[15] = 0;\n\n        return this;\n    }\n\n    setPerspective(fovy: number, aspect: number, near: number, far: number): Matrix4 {\n        if (near === far || aspect === 0 || near <= 0 || far <= 0) {\n            console.error(\"wrong param\");\n            return;\n        }\n\n        let radius = fovy * Math.PI / 180 / 2;\n        let sin = Math.sin(radius);\n        if (sin === 0) {\n            console.error(\"wrong param\");\n            return;\n        }\n        let cot = Math.cos(radius) / sin;\n        let rd = 1 / (far - near);\n\n        let e = this.elements;\n        e[0] = cot / aspect;\n        e[1] = 0;\n        e[2] = 0;\n        e[3] = 0;\n\n        e[4] = 0;\n        e[5] = cot;\n        e[6] = 0;\n        e[7] = 0;\n\n        e[8] = 0;\n        e[9] = 0;\n        e[10] = -(far + near) * rd;\n        e[11] = -1;\n\n        e[12] = 0;\n        e[13] = 0;\n        e[14] = -2 * near * far * rd;\n        e[15] = 0;\n\n        return this;\n    }\n\n    setInverseOf(source: Matrix4): Matrix4 {\n        let s = source.elements;\n        let d = this.elements;\n        let inv = new Float32Array(16);\n\n        //使用标准伴随阵法计算逆矩阵：\n        //标准伴随阵 = 方阵的代数余子式组成的矩阵的转置矩阵\n        //逆矩阵 = 标准伴随阵/方阵的行列式\n\n        //计算代数余子式并转置后放入inv矩阵中\n        inv[0] = s[5] * s[10] * s[15] - s[5] * s[11] * s[14] - s[9] * s[6] * s[15]\n            + s[9] * s[7] * s[14] + s[13] * s[6] * s[11] - s[13] * s[7] * s[10];\n        inv[4] = - s[4] * s[10] * s[15] + s[4] * s[11] * s[14] + s[8] * s[6] * s[15]\n            - s[8] * s[7] * s[14] - s[12] * s[6] * s[11] + s[12] * s[7] * s[10];\n        inv[8] = s[4] * s[9] * s[15] - s[4] * s[11] * s[13] - s[8] * s[5] * s[15]\n            + s[8] * s[7] * s[13] + s[12] * s[5] * s[11] - s[12] * s[7] * s[9];\n        inv[12] = - s[4] * s[9] * s[14] + s[4] * s[10] * s[13] + s[8] * s[5] * s[14]\n            - s[8] * s[6] * s[13] - s[12] * s[5] * s[10] + s[12] * s[6] * s[9];\n\n        inv[1] = - s[1] * s[10] * s[15] + s[1] * s[11] * s[14] + s[9] * s[2] * s[15]\n            - s[9] * s[3] * s[14] - s[13] * s[2] * s[11] + s[13] * s[3] * s[10];\n        inv[5] = s[0] * s[10] * s[15] - s[0] * s[11] * s[14] - s[8] * s[2] * s[15]\n            + s[8] * s[3] * s[14] + s[12] * s[2] * s[11] - s[12] * s[3] * s[10];\n        inv[9] = - s[0] * s[9] * s[15] + s[0] * s[11] * s[13] + s[8] * s[1] * s[15]\n            - s[8] * s[3] * s[13] - s[12] * s[1] * s[11] + s[12] * s[3] * s[9];\n        inv[13] = s[0] * s[9] * s[14] - s[0] * s[10] * s[13] - s[8] * s[1] * s[14]\n            + s[8] * s[2] * s[13] + s[12] * s[1] * s[10] - s[12] * s[2] * s[9];\n\n        inv[2] = s[1] * s[6] * s[15] - s[1] * s[7] * s[14] - s[5] * s[2] * s[15]\n            + s[5] * s[3] * s[14] + s[13] * s[2] * s[7] - s[13] * s[3] * s[6];\n        inv[6] = - s[0] * s[6] * s[15] + s[0] * s[7] * s[14] + s[4] * s[2] * s[15]\n            - s[4] * s[3] * s[14] - s[12] * s[2] * s[7] + s[12] * s[3] * s[6];\n        inv[10] = s[0] * s[5] * s[15] - s[0] * s[7] * s[13] - s[4] * s[1] * s[15]\n            + s[4] * s[3] * s[13] + s[12] * s[1] * s[7] - s[12] * s[3] * s[5];\n        inv[14] = - s[0] * s[5] * s[14] + s[0] * s[6] * s[13] + s[4] * s[1] * s[14]\n            - s[4] * s[2] * s[13] - s[12] * s[1] * s[6] + s[12] * s[2] * s[5];\n\n        inv[3] = - s[1] * s[6] * s[11] + s[1] * s[7] * s[10] + s[5] * s[2] * s[11]\n            - s[5] * s[3] * s[10] - s[9] * s[2] * s[7] + s[9] * s[3] * s[6];\n        inv[7] = s[0] * s[6] * s[11] - s[0] * s[7] * s[10] - s[4] * s[2] * s[11]\n            + s[4] * s[3] * s[10] + s[8] * s[2] * s[7] - s[8] * s[3] * s[6];\n        inv[11] = - s[0] * s[5] * s[11] + s[0] * s[7] * s[9] + s[4] * s[1] * s[11]\n            - s[4] * s[3] * s[9] - s[8] * s[1] * s[7] + s[8] * s[3] * s[5];\n        inv[15] = s[0] * s[5] * s[10] - s[0] * s[6] * s[9] - s[4] * s[1] * s[10]\n            + s[4] * s[2] * s[9] + s[8] * s[1] * s[6] - s[8] * s[2] * s[5];\n\n        //计算行列式，选择方阵的第一列，对该列中的四个元素S[0],s[1],s[2],s[3]分别乘以对应的代数余子式，然后相加\n        let det = s[0] * inv[0] + s[1] * inv[4] + s[2] * inv[8] + s[3] * inv[12];\n        //注：选择任意一行，例如第一行，也是可以的\n        //let det = s[0]*inv[0] + s[4]*inv[1] + s[8]*inv[2] + s[12]*inv[3];\n\n        if (det === 0) {\n            return this;\n        }\n\n        det = 1 / det;\n        for (let i = 0; i < 16; ++i) {\n            d[i] = inv[i] * det;\n        }\n\n        return this;\n    }\n\n    invert(): Matrix4 {\n        return this.setInverseOf(this);\n    }\n\n    transpose(): Matrix4 {\n        let e = this.elements;\n\n        //转置4x4矩阵，分别交换 1,4; 2,8; 3,12; 6,9; 7,13; 11,14\n        let t: number;\n        t = e[1]; e[1] = e[4]; e[4] = t;\n        t = e[2]; e[2] = e[8]; e[8] = t;\n        t = e[3]; e[3] = e[12]; e[12] = t;\n        t = e[6]; e[6] = e[9]; e[9] = t;\n        t = e[7]; e[7] = e[13]; e[13] = t;\n        t = e[11]; e[11] = e[14]; e[14] = t;\n\n        return this;\n    }\n\n}\n","export class Vector3 {\n    public x: number;\n    public y: number;\n    public z: number;\n\n    constructor(x:number = 0, y:number = 0, z:number = 0) {\n        this.x = x;\n        this.y = y;\n        this.z = z;\n    }\n\n    public set(x:number,y:number,z:number):Vector3{\n        this.x = x;\n        this.y = y;\n        this.z = z;\n        return this;\n    }\n\n    public length():number{\n        return Math.sqrt(this.x * this.x + this.y * this.y + this.z * this.z);\n    }\n\n    public equals(v: Vector3): boolean {\n        return this.x == v.x && this.y == v.y && this.z == v.z;\n    }\n\n    public copyFrom(v:Vector3):Vector3{\n        this.x = v.x;\n        this.y = v.y;\n        this.z = v.z;\n        return this;\n    }\n\n    public clone():Vector3{\n        return new Vector3(this.x,this.y,this.z);\n    }\n\n    public add(v:Vector3):Vector3{\n        this.x += v.x;\n        this.y += v.y;\n        this.z += v.z;\n        return this;\n    }\n    public sub(v:Vector3):Vector3{\n        this.x -= this.x;\n        this.y -= this.y;\n        this.z -= this.z;\n        return this;\n    }\n    public multiply(v:Vector3):Vector3{\n        this.x *= v.x;\n        this.y *= v.y;\n        this.z *= v.z;\n        return this;\n    }\n\n    public divide(v: Vector3): Vector3 {\n        this.x /= v.x;\n        this.y /= v.y;\n        this.z /= v.z;\n        return this;\n    }\n\n    public static get zero(): Vector3 {\n        return new Vector3();\n    }\n\n    public static get one(): Vector3 {\n        return new Vector3(1, 1, 1);\n    }\n\n    public static distance(a: Vector3, b: Vector3): number {\n        let diff = a.sub(b);\n        return Math.sqrt(diff.x * diff.x + diff.y * diff.y + diff.z * diff.z);\n    }\n}","/*! *****************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (_) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    Object.defineProperty(o, k2, { enumerable: true, get: function() { return m[k]; } });\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n","/**\n * https://github.com/mrdoob/eventdispatcher.js/\n */\nexport interface IEvent{\n    readonly type:string;\n    readonly data:any;\n    target:any;\n}\n\n\n export class EventDispatcher {\n    private _listeners: {[type:string]:Function[]} = {};\n\n\taddEventListener( type:string, listener:Function ) {\n\n\t\tif ( this._listeners === undefined ) this._listeners = {};\n\n\t\tconst listeners = this._listeners;\n\n\t\tif ( listeners[ type ] === undefined ) {\n\n\t\t\tlisteners[ type ] = [];\n\n\t\t}\n\n\t\tif ( listeners[ type ].indexOf( listener ) === - 1 ) {\n\n\t\t\tlisteners[ type ].push( listener );\n\n\t\t}\n\n\t}\n\n\thasEventListener( type:string, listener:Function ) {\n\n\t\tif ( this._listeners === undefined ) return false;\n\n\t\tconst listeners = this._listeners;\n\n\t\treturn listeners[ type ] !== undefined && listeners[ type ].indexOf( listener ) !== - 1;\n\n\t}\n\n\tremoveEventListener( type:string, listener:Function ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tconst index = listenerArray.indexOf( listener );\n\n\t\t\tif ( index !== - 1 ) {\n\n\t\t\t\tlistenerArray.splice( index, 1 );\n\n\t\t\t}\n\n\t\t}\n\n\t}\n\n\tdispatchEvent( event:IEvent ) {\n\n\t\tif ( this._listeners === undefined ) return;\n\n\t\tconst listeners = this._listeners;\n\t\tconst listenerArray = listeners[ event.type ];\n\n\t\tif ( listenerArray !== undefined ) {\n\n\t\t\tevent.target = this;\n\n\t\t\t// Make a copy, in case listeners are removed while iterating.\n\t\t\tconst array = listenerArray.slice( 0 );\n\n\t\t\tfor ( let i = 0, l = array.length; i < l; i ++ ) {\n\n\t\t\t\tarray[ i ].call( this, event );\n\n\t\t\t}\n\n\t\t\tevent.target = null;\n\n\t\t}\n\n\t}\n\n}\n\n","import { IAsset, IAssetLoader } from \"./assetManager\";\n\n\nexport class ImageAsset implements IAsset {\n    public readonly name: string;\n    public readonly data: HTMLImageElement;\n    public constructor(name: string, data: HTMLImageElement) {\n        this.data = data;\n        this.name = name;\n    }\n    public get width(): number {\n        return this.data.width;\n    }\n\n    public get height(): number {\n        return this.data.height;\n    }\n}\n\nexport class ImageAssetLoader implements IAssetLoader {\n    public get supportedExtensions(): string[] {\n        return [\"png\", \"jpg\", \"jpeg\"];\n    }\n\n    loadAsset(assetName: string,onComplete:(res:IAsset)=>void): void {\n        let image: HTMLImageElement = new Image();\n        image.onload = ()=>{\n            let asset = new ImageAsset(assetName,image);\n            onComplete(asset);\n        };\n        image.src = assetName;\n    }\n}","import { AssetManager, IAsset, IAssetLoader } from \"./assetManager\";\n\n\nexport class TextAsset implements IAsset {\n    public readonly name: string;\n    public readonly data: string;\n    public constructor(name: string, data: string) {\n        this.data = data;\n        this.name = name;\n    }\n}\n\nexport class TextAssetLoader implements IAssetLoader {\n    public get supportedExtensions(): string[] {\n        return [\"txt\",\"vs\",\"fs\",\"frag\",\"vert\",\"shader\"];\n    }\n\n    loadAsset(assetName: string,onComplete?:(res:IAsset)=>void): void {\n        let request = new XMLHttpRequest();\n        request.onreadystatechange = ()=>{\n            if(request.readyState === XMLHttpRequest.DONE && request.status !== 404){\n                let asset = new TextAsset(assetName,request.responseText);\n                if(onComplete){\n                    onComplete(asset);\n                }\n            }\n        }\n        request.open(\"GET\",assetName,true);\n        request.send();\n    }\n}","import { EventDispatcher } from \"../event/eventDispatcher\";\nimport { ImageAssetLoader } from \"./imageLoader\";\nimport { TextAssetLoader } from \"./textLoader\";\n\nexport interface IAsset {\n    readonly name: string;\n    readonly data: any;\n}\n\nexport interface IAssetLoader {\n    readonly supportedExtensions: string[];\n    loadAsset(assetName: string, callback: (res: IAsset) => void): void;\n}\n\n\nexport class AssetManager extends EventDispatcher {\n    private static _loaders: IAssetLoader[] = [];\n    private static _loaderAssets: { [name: string]: IAsset } = {};\n\n    private constructor() {\n        super();\n    }\n\n    public static initialize(): void {\n        AssetManager._loaders.push(new ImageAssetLoader());\n        AssetManager._loaders.push(new TextAssetLoader());\n    }\n\n    public static registerLoader(loader: IAssetLoader): void {\n        AssetManager._loaders.push(loader);\n    }\n\n    public static loadAsset(assetName: string, onComplete: (asset?: IAsset) => void): void {\n        if (this._loaderAssets[assetName]) {\n            if (onComplete) {\n                onComplete(this._loaderAssets[assetName]);\n            }\n            return;\n        }\n        let extension = assetName.split(\".\").pop().toLowerCase();\n        for (let loader of AssetManager._loaders) {\n            if (loader.supportedExtensions.indexOf(extension) !== -1) {\n                loader.loadAsset(assetName, (res) => {\n                    AssetManager._loaderAssets[res.name] = res;\n                    onComplete(res);\n                });\n                return;\n            }\n        }\n        console.warn(\"Unable to load asset with extension \" + extension + \"because there is no loader associated with it.\")\n    }\n\n    public static loadAssetList(assetList: string[], onAllComplete: () => void) {\n        let remainCount = assetList.length;\n        for (let i = 0; i < remainCount; i++) {\n            let name = assetList[i];\n            this.loadAsset(name, (asset) => {\n                console.log(asset);\n                if (asset) {\n                    remainCount--;\n                    if (remainCount === 0 && onAllComplete) {\n                        onAllComplete();\n                    }\n                } else {\n                    console.error('fail to load asset ' + name);\n                }\n            })\n        }\n    }\n\n    public static isAssetLoaded(assetName: string): boolean {\n        return AssetManager._loaderAssets[assetName] !== undefined;\n    }\n\n    public static getAsset(assetName: string): IAsset {\n        if (AssetManager._loaderAssets[assetName] != undefined) {\n            return AssetManager._loaderAssets[assetName];\n        }\n        return undefined;\n    }\n}","import { EventDispatcher } from \"../event/eventDispatcher\";\nimport { gl } from \"./gl\";\n\nexport class Texture{\n    private _id:WebGLTexture = 0;;\n    constructor(){\n        this._id = gl.createTexture();\n        if(!this._id){\n            console.error(\"Failed to create the texture buffer\");\n        }\n    }\n\n    public get id():WebGLTexture{\n        return this._id;\n    }\n\n    public load(image:HTMLImageElement):void{\n        gl.bindTexture(gl.TEXTURE_2D,this._id);\n\n        gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_MIN_FILTER,gl.LINEAR);\n        gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_S,gl.CLAMP_TO_EDGE);\n        gl.texParameteri(gl.TEXTURE_2D,gl.TEXTURE_WRAP_T,gl.CLAMP_TO_EDGE);\n\n        gl.texImage2D(gl.TEXTURE_2D,0,gl.RGB,gl.RGB,gl.UNSIGNED_BYTE,image);\n\n        gl.bindTexture(gl.TEXTURE_2D,null);\n    }\n\n    public bind(uint:number = 0):void{\n        gl.activeTexture(gl.TEXTURE0 + uint);\n        gl.bindTexture(gl.TEXTURE_2D,this._id);\n    }\n\n    public unbind():void{\n        gl.bindTexture(gl.TEXTURE_2D,null);\n    }\n\n    public destory():void{\n        gl.deleteTexture(this._id);\n        this._id = 0;\n    }\n}","import { AssetManager } from \"../assets/assetManager\";\nimport { Texture } from \"./texture\";\n\nclass TextureReference {\n    public texture: Texture;\n    public referenceCount: number = 1;\n    constructor(texture: Texture) {\n        this.texture = texture;\n    }\n}\n\nexport class TextureManager {\n    private static _textures:{[name:string]:TextureReference} = {};\n\n    public static getTexture(textureName:string):Texture{\n        if(TextureManager._textures[textureName]===undefined){\n            let texture = new Texture();\n            texture.load(AssetManager.getAsset(textureName).data);\n            TextureManager._textures[textureName] = new TextureReference(texture);\n        }else{\n            TextureManager._textures[textureName].referenceCount++;\n        }\n        return TextureManager._textures[textureName].texture;\n    }\n\n    public static releaseTexture(textureName:string):void{\n        if(TextureManager._textures[textureName]===undefined){\n            console.warn(`A texture named ${textureName} does not exist and therefore cannot be released.`)\n        }else{\n            TextureManager._textures[textureName].referenceCount--;\n            if(TextureManager._textures[textureName].referenceCount<1){\n                TextureManager._textures[textureName].texture.destory();\n                TextureManager._textures[textureName] = null;\n                delete TextureManager._textures[textureName];\n            }\n        }\n    }\n}"],"names":["gl","canvas","VertexSemantic"],"mappings":"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,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;YACxE,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;kBACnE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YACvE,GAAG,CAAC,EAAE,CAAC,GAAG,CAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;kBACtE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAEvE,GAAG,CAAC,CAAC,CAAC,GAAG,CAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;kBACtE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;YACxE,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;kBACpE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,CAAC;YACxE,GAAG,CAAC,CAAC,CAAC,GAAG,CAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;kBACrE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YACvE,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;kBACpE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAEvE,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;kBAClE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YACtE,GAAG,CAAC,CAAC,CAAC,GAAG,CAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;kBACpE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YACtE,GAAG,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;kBACnE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YACtE,GAAG,CAAC,EAAE,CAAC,GAAG,CAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;kBACrE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YAEtE,GAAG,CAAC,CAAC,CAAC,GAAG,CAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;kBACpE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YACpE,GAAG,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC;kBAClE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,CAAC;YACpE,GAAG,CAAC,EAAE,CAAC,GAAG,CAAE,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GAAG,CAAC,CAAC,EAAE,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,GA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"}